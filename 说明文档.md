

## 例子：

## 1. 用户相关接口

### 1.1 注册

#### 1.1.1 基本信息

> 请求路径：/user/register
>
> 请求方式：POST
>
> 接口描述：该接口用于注册新用户

#### 1.1.2 请求参数

请求参数格式：x-www-form-urlencoded

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注           |
| -------- | ------ | ------ | -------- | -------------- |
| username | 用户名 | string | 是       | 5~16位非空字符 |
| password | 密码   | string | 是       | 5~16位非空字符 |
| company  | 公司   | string | 是       | 无             |

请求数据样例：

```shell
username=zhangsan&password=123456&company=百度
```

#### 1.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json

{
    "code": 0,
    "message": "操作成功",
    "data": null
}
```

### 1.2 登录

#### 1.2.1 基本信息

> 请求路径：/user/login
>
> 请求方式：POST
>
> 接口描述：该接口用于登录

#### 1.2.2 请求参数

请求参数格式：x-www-form-urlencoded

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注           |
| -------- | ------ | ------ | -------- | -------------- |
| username | 用户名 | string | 是       | 5~16位非空字符 |
| password | 密码   | string | 是       | 5~16位非空字符 |

请求数据样例：

```shell
username=zhangsan&password=123456
```

### 1.3 公司信息

#### 1.3.1 基本信息

> 请求路径：/user/getCompaniesData
>
> 请求方式：get
>
> 接口描述：该接口用于请求公司数据

#### 1.2.2 请求参数

请求参数格式：x-www-form-urlencoded

请求参数说明：

| 参数名称    | 说明     | 类型   | 是否必须 | 备注 |
| ----------- | -------- | ------ | -------- | ---- |
| companyId   | 公司id   | string | 是       |      |
| companyName | 公司名称 | string | 是       |      |

请求数据样例：

```shell
companyId=zhangsan&companyName=123456
```



#### 1.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | string | 必须     |        | 返回的数据,jwt令牌    |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGFpbXMiOnsiaWQiOjUsInVzZXJuYW1lIjoid2FuZ2JhIn0sImV4cCI6MTY5MzcxNTk3OH0.pE_RATcoF7Nm9KEp9eC3CzcBbKWAFOL0IsuMNjnZ95M"
}
```



#### 1.2.4 备注说明

> 用户登录成功后，系统会自动下发JWT令牌，然后在后续的每次请求中，浏览器都需要在请求头header中携带到服务端，请求头的名称为 Authorization，值为 登录时下发的JWT令牌。
>
> 如果检测到用户未登录，则http响应状态码为401











## 2. 碳排放相关接口





# 3. 碳排放分析相关接口

## 3.1、展示全部的信息表格

> 所需数据：由emission_records表中字段{data_origin，emission_amount, verification_status,emission_type, emission_date,source, unit }所组成的数组

> 请求路径：/getAllEmissionRecords

> 请求方式：GET

数据字段描述

| 参数名称 | 说明 | 类型 | 是否比西 | 备注 |
| -------- | ---- | ---- | -------- | ---- |
|          |      |      |          |      |
|          |      |      |          |      |
|          |      |      |          |      |

接口描述：用于获取所有emissions_record表中的相关字段数据

```json
{
  "result":[
      { 
          "dataOrigin": "北京", 
          "emissionAmount": 500.00, 
          "verificationStatus": "Verified",
          "emissionType": "CO2", 
          "emissionDate":"2024-09-11",
          "source": "北京化工厂", 
          "unit": "吨" 
      },
      { 
          "dataOrigin": "北京", 
          "emissionAmount": 450.00, 
          "verificationStatus": "Pending", 
          "emissionType": "CO2", 
          "emissionDate": "2024-09-12",
          "source": "北京电子厂", 
          "unit": "吨" 
      },
      ...
	]
}
  
 
```

## 3.2、查询信息

> 请求路径:/queryEmission
>
> 请求方式:POST
>
> 接口描述:用于查询用户输入的字段

### 3.2.1 请求参数:

| 参数名称 | 说明                   | 类型   | 是否必须 | 备注                      |
| -------- | ---------------------- | ------ | -------- | ------------------------- |
| inputStr | 是用户输入的一个字符串 | string | 是       | 用户输入的字符串,长度不限 |

请求数据样例:

```json
{
    "inputStr" : "hello wrold"
}
```

###  3.2.2 响应数据

响应数据类型：application/json

响应参数说明：

| 参数名称 | 类型   | 是否必须 | 默认值 | 备注                             |
| -------- | ------ | -------- | ------ | -------------------------------- |
| code     | number | 必须     |        | 响应码,成功-1,失败-0             |
| msg      | string | 非必须   |        | 如果失败,msg是查询失败的相关信息 |
| data     | string | 必须     |        | 返回的数据是一个数组             |

响应数据样例:

```json
{
    "code":1,
    "msg":"查询成功了",
    "data":[
        { 
            "dataOrigin": "北京", 
            "emissionAmount": 500.00, 
            "verificationStatus": "Verified",
            "emissionType": "CO2", 
            "emissionDate":"2024-09-11",
            "source": "北京化工厂", 
            "unit": "吨" 
        },
        { 
            "dataOrigin": "北京", 
            "emissionAmount": 450.00, 
            "verificationStatus": "Pending", 
            "emissionType": "CO2", 
            "emissionDate": "2024-09-12",
            "source": "北京电子厂", 
            "unit": "吨" 
        },
        ...
    ]
}
```

## 3.3、批量删除

>请求路径：/deleteEmission
>
>请求方式：POST
>
>接口描述：将用户所选的数据发送非后端进行删除。后端返回删除后的数据库中的所有字段

### 3.3.1 请求参数

| 参数名称        | 说明                 | 类型     | 是否必须 | 备注                       |
| --------------- | -------------------- | -------- | -------- | -------------------------- |
| emissionRecords | 用户所选择的数据集合 | 一个数组 | 是       | 用户勾选的数据行。个数不限 |

请求数据样例：

```json
{
    "emissionRecords":[
        { 
            "dataOrigin": "北京", 
            "emissionAmount": 500.00, 
            "verificationStatus": "Verified",
            "emissionType": "CO2", 
            "emissionDate":"2024-09-11",
            "source": "北京化工厂", 
            "unit": "吨" 
        },
        { 
            "dataOrigin": "北京", 
            "emissionAmount": 450.00, 
            "verificationStatus": "Pending", 
            "emissionType": "CO2", 
            "emissionDate": "2024-09-12",
            "source": "北京电子厂", 
            "unit": "吨" 
        },
        ...
    ]
}
```

### 3.3.2  响应数据

响应数据类型：json

相应参数说明：

| 参数名称 | 类型   | 是否必须 | 默认值 | 备注                                                         |
| -------- | ------ | -------- | ------ | ------------------------------------------------------------ |
| code     | number | 必须     |        | 响应标识：1-删除成功，0-删除失败                             |
| msg      | string | 非必须   |        | 删除失败，msg是查询失败的信息                                |
| data     | string | 必须     |        | 返回数据库中删除后的数据（同3.2.2 一样。只不过这里是把用户选的删掉了，返回剩下的） |

相应数据样例：

```json
{
    "code":1,
    "msg":"查询成功了",
    "data":[
        { 
            "dataOrigin": "北京", 
            "emissionAmount": 500.00, 
            "verificationStatus": "Verified",
            "emissionType": "CO2", 
            "emissionDate":"2024-09-11",
            "source": "北京化工厂", 
            "unit": "吨" 
        },
        { 
            "dataOrigin": "北京", 
            "emissionAmount": 450.00, 
            "verificationStatus": "Pending", 
            "emissionType": "CO2", 
            "emissionDate": "2024-09-12",
            "source": "北京电子厂", 
            "unit": "吨" 
        },
        ...
    ]
}
```



# 4. 碳资产相关接口



## 4.1、排放源概览

所需数据：result数组	

请求路径：/getAllEmissionSource

请求方式：Get

接口描述：用于展示排放源的相关信息

| 参数名称           | 说明（对应数据库中的字段）       | 类型             | 是否必须 | 备注 |
| ------------------ | -------------------------------- | ---------------- | -------- | ---- |
| sourceId           | SourceID(排放源标识)             | int              | 是       | 无   |
| name               | Name（排放源名称）               | string           | 是       | 无   |
| type               | Type（排放源类型）               | string           | 是       | 无   |
| location           | Location（排放源地理位置）       | string           | 是       | 无   |
| status             | Status（状态）                   | string           | 是       | 无   |
| complianceYear     | ComplianceYear（合规年分）       | Date（只取年份） | 是       | 无   |
| emissionsRequired  | EmissionsRequired（需求排放量）  | double           | 是       | 无   |
| latestEmissionDate | latestEmissionDate（最新日期）   | Date             | 是       | 无   |
| latestCO2Emissions | latestCO2Emissions（最新排放量） | double           | 是       | 无   |

1. **SourceID**：
   - **来源**：EmissionSources表
2. **Name**：
   - **来源**：EmissionSources表
3. **Type**：
   - **来源**：EmissionSources表
4. **Location**：
   - **来源**：EmissionSources表
5. **Status**：
   - **来源**：EmissionSources表
6. **ComplianceYear**：
   - **来源**：ComplianceRecords表
7. **EmissionsRequired**：
   - **来源**：ComplianceRecords表
8. **latestEmissionDate**（作为ed.EmissionDate的别名）：
   - **来源**：EmissionData表
9. **latestCO2Emissions**（作为ed.CO2Emissions的别名）：
   - **来源**：EmissionData表

result数组，每一个数据项的json数据格式如下。

```json
{
    "result":[
        {
          "sourceId": 1,
          "name": "蓝海化工厂",
          "type": "工业制造",
          "location": "江苏省南京市",
          "status": "运营中",
          "complianceYear": 2023,
          "emissionsRequired": 3000,
          "latestEmissionDate": "2023-06-15",
          "latestCO2Emissions": 2800
        },
        ...
    ]
}
```



### 4.1.1、柱状图：展示不同合规年分的排放要求

所需数据：complianceYearEmissionRequired数组。每一个数组元素{ComplianceYear（年份）；EmissionsRequired（排放要求）}。

请求路径：/getYearReq

请求方式：Get

接口描述：用于展示不同合规年分的排放要求，只需查询source_id为1的排放源的返回即可。

| 参数名称          | 说明                            | 类型   | 是否必须 | 备注         |
| ----------------- | ------------------------------- | ------ | -------- | ------------ |
| ComplianceYear    | ComplianceYear（合规年分）      | int    | 是       | 只返回年份   |
| EmissionsRequired | EmissionsRequired（所需排放量） | double | 是       | 一个浮点数据 |

**ComplianceYear** (合规年份)：

- 这个字段来自 `ComplianceRecords` 表。
- 在 `ComplianceRecords` 表中，对应的字段可能是 `ComplianceYear`。

**EmissionsRequired** (所需排放量)：

- 这个字段也来自 `ComplianceRecords` 表。
- 在 `ComplianceRecords` 表中，对应的字段可能是 `EmissionsRequired`。

响应数据complianceYearEmissionRequired数组（json格式）：

```json
{
    “complianceYearEmissionRequired”:[
      { 
       "ComplianceYear": 2023, 
       "EmissionsRequired": 500.0 
      },
      { 
          "ComplianceYear": 2024, 
          "EmissionsRequired": 520.0 
      },
      ...
    ]
}
```

### 4.1.2、饼图（展示不同减排项目的预期减排量占比）

所需数据：projectReductions数组。每一个数组项：{name：减排项目名称；value：预期的减排量}

请求路径：/getProjectReduction

请求方式：Get

接口描述：用于获取2016年所有**ProjectName** (项目名称)，**ExpectedEmissionsReduction** (预期减排量)的数据

| 参数名称 | 说明                                        | 类型   | 是否必须 | 备注 |
| -------- | ------------------------------------------- | ------ | -------- | ---- |
| name     | **ProjectName** (项目名称)                  | string | 是       | 无   |
| value    | **ExpectedEmissionsReduction** (预期减排量) | double | 是       | 无   |

**ProjectName** (项目名称)：

- 这个字段来自 `ReductionProjects` 表。
- 在 `ReductionProjects` 表中，对应的字段可能是 `ProjectName`。

**ExpectedEmissionsReduction** (预期减排量)：

- 这个字段也来自 `ReductionProjects` 表。
- 在 `ReductionProjects` 表中，对应的字段可能是 `ExpectedEmissionsReduction`。

响应数组：

```json
{
    "projectReductions":[
        { 
            "name": "绿色能源转换项目", 
            "value": 150.0 
        },
        { 
            "name": "森林碳汇增强计划",
            "value": 200.0 
        },
        { 
            "name": "工业能效提升项目", 
            "value": 180.0
        },
        { 
            "name": "城市交通电动化改造", 
            "value": 220.0 
        },
        { 
            "name": "清洁能源技术研发", 
            "value": 160.0 
        },
        { 
            "name": "农业温室气体减排", 
            "value": 140.0 
        },
        { 
            "name": "建筑节能改造工程", 
            "value": 210.0 
        },
        { 
            "name": "废弃物循环利用项目", 
            "value": 170.0 
        },
        { 
            "name": "碳捕集与封存技术应用", 
            "value": 190.0 
        },
        { 
            "name": "绿色供应链优化", 
            "value": 230.0 
        }
    ]
}
```

### 4.1.3、折线图（展示排放源随时间的合规情况）

所需字段：years：年份数组；names：排放源名称数组；data1，data2，data3，data4，data5都是二氧化碳排放量数组。

请求路径：/getSourceEmissionTimes

请求方式：GET

接口描述：用于请求五个排放源（可以自己随机决定）每一年的排放量。

| 参数名称 | 说明                                     | 类型       | 是否必须 | 备注                                                         |
| -------- | ---------------------------------------- | ---------- | -------- | ------------------------------------------------------------ |
| years    | **只取EmissionDate** (排放日期）中的年份 | 年份数组   | 是       | 返回一个2016-2021的年份的数组，升序排序                      |
| names    | name(排放源的名称)数组                   | string数组 | 是       | 返回五个排放源的名称组成的数组即可（可以自己指定source_id范围） |
| data1    | CO2Emissions(二氧化碳排放量)数组         | double数组 | 是       | data1[i]对应排放源数组names[0]对应的排放源，所对应的years[i]数组中的CO2Emissions(二氧化碳排放量)排放量 |
| data2    | CO2Emissions(二氧化碳排放量)数组         | double数组 | 是       | data2[i]对应排放源数组names[1]对应的排放源，所对应的years[i]数组中的CO2Emissions(二氧化碳排放量)排放量 |
| data3    | CO2Emissions(二氧化碳排放量)数组         | double数组 | 是       | data3[i]对应排放源数组names[2]对应的排放源，所对应的years[i]数组中的CO2Emissions(二氧化碳排放量)排放量 |
| data4    | CO2Emissions(二氧化碳排放量)数组         | double数组 | 是       | data4[i]对应排放源数组names[3]对应的排放源，所对应的years[i]数组中的CO2Emissions(二氧化碳排放量)排放量 |
| data5    | CO2Emissions(二氧化碳排放量)数组         | double数组 | 是       | data5[i]对应排放源数组names[4]对应的排放源，所对应的years[i]数组中的CO2Emissions(二氧化碳排放量)排放量 |

**EmissionDate** (排放日期)：

- 这个字段可能来自 `EmissionData` 表。
- 在 `EmissionData` 表中，对应的字段可能是 `EmissionDate`。

**CO2Emissions** (二氧化碳排放量)：

- 这个字段也来自 `EmissionData` 表。
- 在 `EmissionData` 表中，对应的字段可能是 `CO2Emissions`。

**EmissionsRequired** (所需排放量)：

- 这个字段可能来自 `ComplianceRecords` 表。
- 在 `ComplianceRecords` 表中，对应的字段可能是 `EmissionsRequired`。

**name（排放源名称）**

- 来自emissions_source表中的name字段

返回数据json：

```json
{
    "years":['2012', '2013', '2014', '2015', '2016', '2017'],
    "names":['A', 'B', 'C', 'D', 'E', 'F'],
    "data1":[56.5, 82.1, 88.7, 70.1, 53.4, 85.1],//从左到右依次为2012-2017，A排放源的排放数据
    "data2":[51.1, 51.4, 55.1, 53.3, 73.8, 68.7],
    "data3":[40.1, 62.2, 69.5, 36.4, 45.2, 32.5],
    "data4":[25.2, 37.1, 41.2, 18, 33.9, 49.1],
    "data5":[20.2, 30.1, 48.2, 10, 30.9, 40.1],
}
```



## 4.2、资产交易

​	检索特定排放源相关的资产和这些资产的交易记录。

```json
[
    {
        "SourceName": "工厂A",
        "AssetType": "机械",
        "AssetQuantity": 10,
        "TransactionDate": "2024-01-15",
        "TransactionType": "购买",
        "TransactionQuantity": 2,
        "TransactionPrice": 5000.00
    },
    {
        "SourceName": "工厂A",
        "AssetType": "化学品",
        "AssetQuantity": 500,
        "TransactionDate": "2024-02-20",
        "TransactionType": "销售",
        "TransactionQuantity": 100,
        "TransactionPrice": 150.00
    },
    {
        "SourceName": "工厂A",
        "AssetType": "电力",
        "AssetQuantity": 1000,
        "TransactionDate": "2024-03-05",
        "TransactionType": "购买",
        "TransactionQuantity": 500,
        "TransactionPrice": 0.50
    },
    {
        "SourceName": "日落电厂",
        "AssetType": "太阳能板",
        "AssetQuantity": 5000,
        "TransactionDate": "2024-07-08",
        "TransactionType": "购买",
        "TransactionQuantity": 1500,
        "TransactionPrice": 750.00
    },
    {
        "SourceName": "青山钢铁厂",
        "AssetType": "机械设备",
        "AssetQuantity": 300,
        "TransactionDate": "2024-06-15",
        "TransactionType": "出售",
        "TransactionQuantity": 20,
        "TransactionPrice": 50000.00
    },
    {
        "SourceName": "东海化工厂",
        "AssetType": "化学原料",
        "AssetQuantity": 20000,
        "TransactionDate": "2024-08-22",
        "TransactionType": "购买",
        "TransactionQuantity": 5000,
        "TransactionPrice": 150.00
    },
    {
        "SourceName": "绿源环保公司",
        "AssetType": "污水处理设备",
        "AssetQuantity": 50,
        "TransactionDate": "2024-09-05",
        "TransactionType": "租赁",
        "TransactionQuantity": 2,
        "TransactionPrice": 8000.00
    },
    {
        "SourceName": "北风发电厂",
        "AssetType": "风力发电机",
        "AssetQuantity": 800,
        "TransactionDate": "2024-10-12",
        "TransactionType": "购买",
        "TransactionQuantity": 100,
        "TransactionPrice": 300000.00
    },
    {
        "SourceName": "南山煤矿",
        "AssetType": "开采设备",
        "AssetQuantity": 120,
        "TransactionDate": "2024-11-01",
        "TransactionType": "维修",
        "TransactionQuantity": 5,
        "TransactionPrice": 20000.00
    },
    {
        "SourceName": "西岭水泥厂",
        "AssetType": "运输车辆",
        "AssetQuantity": 40,
        "TransactionDate": "2024-12-07",
        "TransactionType": "购买",
        "TransactionQuantity": 5,
        "TransactionPrice": 80000.00
    },
    {
        "SourceName": "晨光纸业",
        "AssetType": "造纸机",
        "AssetQuantity": 18,
        "TransactionDate": "2024-05-20",
        "TransactionType": "升级",
        "TransactionQuantity": 2,
        "TransactionPrice": 1500000.00
    },
    {
        "SourceName": "蓝海石油公司",
        "AssetType": "钻井平台",
        "AssetQuantity": 5,
        "TransactionDate": "2024-03-30",
        "TransactionType": "购买",
        "TransactionQuantity": 1,
        "TransactionPrice": 25000000.00
    },
    {
        "SourceName": "春风电力集团",
        "AssetType": "输电线路",
        "AssetQuantity": 1500,
        "TransactionDate": "2024-04-18",
        "TransactionType": "维护",
        "TransactionQuantity": 300,
        "TransactionPrice": 5000.00
    }
]
```

### 4.2.1、交易类型统计图

所需字段：transaction（交易类型数组）；transactionQuantity（交易量）；transactionPrice（交易价格）；

请求路径：/getTranctionAnalysis

请求方式：GET

接口描述：用于获取2020年（对应transactions中的日期）所有交易类型组成的数组：transaction；每种交易类型对应的交易量：transactionQuantity数组；每种交易类型对应的交易价格transactionPrice；

| 参数名称            | 说明                                                         | 类型   | 是否必须 | 备注             |
| ------------------- | ------------------------------------------------------------ | ------ | -------- | ---------------- |
| transaction         | **TransactionType** (交易类型)组成的数组                     | string | 是       | 返回五种类型即可 |
| transactionQuantity | **TransactionQuantity** (交易数量)交易类型所对应的交易数量数组 | double | 是       | 返回五种类型即可 |
| transactionPrice    | **TransactionPrice** (交易价格)每种交易类型对应的交易价格    | double | 是       | 返回五种类型即可 |

1. **TransactionType** (交易类型)：
   - 这个字段来自 `Transactions` 表。
   - 在 `Transactions` 表中，对应的字段可能是 `TransactionType`。
2. **TransactionQuantity** (交易数量)：
   - 这个字段也来自 `Transactions` 表。
   - 在 `Transactions` 表中，对应的字段可能是 `Quantity`。
3. **TransactionPrice** (交易价格)：
   - 这个字段同样来自 `Transactions` 表。
   - 在 `Transactions` 表中，对应的字段可能是 `Price`。

返回数据字段：

```json
{
    "transaction": ["配额交易", "基线交易", "碳税", "碳信用", "碳期权和期货", "碳汇交易"],
    "transactionQuantity": [50, 20, 15, 30, 25, 18],
    "transactionPrice": [15, 18, 12, 20, 17, 19]
}
```

### 4.2.2、资产交易量随时间的堆叠柱状图

所需字段：years：年份数组；assetType：资产类型数组。资产交易量数：assetTransactionQuantity1，assetTransactionQuantity2，assetTransactionQuantity3 ，assetTransactionQuantity4，assetTransactionQuantity5。

请求路径： /getAssetAnalysis

请求方式：GET

接口描述：用于获取资产类型 assetType[i] ，在第 years[i] 年的交易数量数组 assetTransactionQuantity1  信息。

| 参数名称                  | 说明                                         | 类型       | 是否必填 | 备注               |
| ------------------------- | -------------------------------------------- | ---------- | -------- | ------------------ |
| years                     | **TransactionDate** (交易日期)只取里面的年份 | int数组    | 是       | 只取年份且递增排序 |
| assetType                 | **AssetType** (资产类型)数组                 | string数组 | 是       | 无                 |
| assetTransactionQuantity1 | **TransactionQuantity** (交易数量)数组       | int数组    | 是       | 无                 |
| assetTransactionQuantity2 | **TransactionQuantity** (交易数量)数组       | int数组    | 是       | 无                 |
| assetTransactionQuantity3 | **TransactionQuantity** (交易数量)数组       | int数组    | 是       | 无                 |
| assetTransactionQuantity4 | **TransactionQuantity** (交易数量)数组       | int数组    | 是       | 无                 |
| assetTransactionQuantity5 | **TransactionQuantity** (交易数量)数组       | int数组    | 是       | 无                 |

展示随时间变化的资产交易量的累积效果。

**TransactionDate** (交易日期)：

- 在 `Transactions` 表中，对应的字段可能是 `TransactionDate`。

- 在 `Transactions` 表中，对应的字段可能是 transaction_type。

**TransactionQuantity** (交易数量)：

- 这个字段同样可能来自 `Transactions` 表。
- 在 `Transactions` 表中，对应的字段可能是 `Quantity`。

**assetType(资产类型)：**

- 来自assets表，对应的字段可能是assetType

返回数据字段

```json
{
    "years":[2019, 2020, 2021, 2022, 2023],
    "assetType":['森林碳汇项目', '可再生能源开发', '工业排放减少计划', '绿色交通转型', '碳捕集与存储技术'],
    "assetTransactionQuantity1":[21, 23, 25, 27, 29],
    "assetTransactionQuantity2":[22, 24, 26, 28, 30],
    "assetTransactionQuantity3":[23, 25, 27, 29, 31],
    "assetTransactionQuantity4":[24, 26, 28, 30, 32],
    "assetTransactionQuantity5":[25, 27, 29, 31, 33],
}
```

### 4.2.3、资产数量与交易量关系图

所需字段：assetType：资产类型数组。资产数量数组：assetQuantity。资产交易量数数组：assetTransactionQuantity

请求路径： /getAssetQuantityAnalysis

请求方式：GET

接口描述：用于获取任意一年（年份你可以随机查数据库中的某一年）的资产类型 assetType 数组里面所有的资产类型，交易数量数组 assetTransactionQuantity  信息。（资产类型asset[i] 的资产数量为：assetQuantity[i]，交易数量为：assetTransactionQuantity[i]）。

| 参数名称                 | 说明                                             | 类型       | 是否必填 | 备注 |
| ------------------------ | ------------------------------------------------ | ---------- | -------- | ---- |
| assetType                | **AssetType** (资产类型)数组                     | string数组 | 是       | 无   |
| assetQuantity            | **AssetQuantity** (资产数量)，不同资产数量的数组 | double数组 | 是       | 无   |
| assetTransactionQuantity | **TransactionQuantity** (交易数量)数组           | int数组    | 是       | 无   |

展示随时间变化的资产交易量的累积效果。

**AssetType** (资产类型)：

- 这个字段来自 `Assets` 表。
- 在 `Assets` 表中，对应的字段可能是 `AssetType`。

**AssetQuantity** (资产数量)：

- 这个字段也来自 `Assets` 表。
- 在 `Assets` 表中，对应的字段可能是 `Quantity`。

**TransactionQuantity** (交易数量)：

- 这个字段来自 `Transactions` 表。
- 在 `Transactions` 表中，对应的字段可能是 `Quantity`。

返回数据字段

```json
{
    "assetType":['森林碳汇项目', '可再生能源开发', '工业排放减少计划', '绿色交通转型', '碳捕集与存储技术'],
    "assetQuantity":[50, 20, 15, 30, 25, 18],
    "assetTransactionQuantity":[21, 23, 25, 27, 29],
}
```

## 4.3、减排项目（这个先不做，等我更新）

​	url:/getReductionProjects。前端请求方式GET。返回json数组格式大致如下：

```json
[
  {
    "projectName": "太阳能光伏项目",
    "projectType": "可再生能源",
    "startDate": "2022-01-01",
    "endDate": "2023-12-31",
    "expectedEmissionsReduction": 500,
    "actualEmissionsReduction": 450,
    "projectStatus": "进行中"
  },
  {
    "projectName": "能效提升计划",
    "projectType": "能效提升",
    "startDate": "2023-01-15",
    "endDate": "2023-06-30",
    "expectedEmissionsReduction": 300,
    "actualEmissionsReduction": 280,
    "projectStatus": "已完成"
  },
  {
    "projectName": "碳捕集与封存项目",
    "projectType": "碳捕集与封存",
    "startDate": "2023-07-01",
    "endDate": "2024-12-31",
    "expectedEmissionsReduction": 200,
    "actualEmissionsReduction": null,
    "projectStatus": "规划中"
  }
]
```

​	对应数据库表中的字段信息：

![image-20240906151502103](img/image-20240906151502103.png)

​	sql语句：

```sql
SELECT
    rp.ProjectID,
    rp.ProjectName,
    rp.ProjectType,
    rp.StartDate,
    rp.EndDate,
    rp.ExpectedEmissionsReduction,
    rp.ActualEmissionsReduction
FROM
    ReductionProjects rp
WHERE
    rp.SourceID = ?; -- 这里的问号是一个参数占位符，应该被替换为具体的排放源ID
```






































>>>>>>> sch







## 5. CCER项目相关接口

### 1.1 项目总体概览信息获取

#### 1.1.1基本信息

> 请求路径： /ccer/projects
>
> 请求方式：GET
>
> 接口描述：用于提供Projects表中所有的数据，进行项目总览数据渲染

#### 1.1.2 请求参数

无

#### 1.1.3 响应参数

响应参数格式：application/json

相应参数说明：

| 参数名称            | 说明         | 类型   | 是否必须 | 备注                                                         |
| ------------------- | ------------ | ------ | -------- | ------------------------------------------------------------ |
| code                | 响应码       | number | 必须     | 0-成功,1-失败                                                |
| message             | 提示信息     | string | 非必须   |                                                              |
| data                | 返回的数据   | array  | 必须     |                                                              |
| \|-projectID        | 项目ID       | number | 非必须   | 非空                                                         |
| \|-projectName      | 项目名称     | String | 非必须   | 非空                                                         |
| \|-projectType      | 项目类型     | String | 非必须   | 可再生能源,<br />林业碳汇,<br />甲烷利用,<br />能源效率提升,<br />碳捕集与封存  <br />只能为这五个其中一之一 |
| \|-location         | 项目地址     | String | 非必须   |                                                              |
| \|-status           | 项目状态     | String | 非必须   | 已完成<br />进行中<br />已取消<br />只能为这三者之一         |
| \|-registrationDate | 项目注册日期 | Date   | 非必须   | xxxx-xx-xx                                                   |
| \|-validUntil       | 项目有效期   | Date   | 非必须   | xxxx-xx-xx                                                   |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": [
        {
        projectID: '1'       //项目ID    
        projectName: 'xxx'     //项目名称
        projectType: "xxx"     //项目类型
        location: "xxx"       //项目地址
        status: "xxx"          //项目状态
        registrationDate: "xxxx-xx-xx"  //项目注册日期
        validUntil: "xxxx-xx-xx"      //项目有效期
        },
        {....}
    ]
}
```

## 1.2 项目数量统计

### 1.2.1 基本信息

> 请求路径： /ccer/projectAmounts
>
> 请求方式：GET
>
> 接口描述：用于提供Projects表中每个类型的项目数量，进行项目数量图表数据渲染

### 1.2.2 请求参数

无

### 1.2.3 响应参数

参数相应格式：application/json

相应参数说明：

| 参数名称         | 说明       | 类型   | 是否必须 | 备注                                                         |
| :--------------- | :--------- | ------ | -------- | :----------------------------------------------------------- |
| code             | 响应码     | number | 必须     | 0-成功,1-失败                                                |
| message          | 提示信息   | string | 非必须   |                                                              |
| data             | 返回的数据 | array  | 必须     |                                                              |
| \|-projectType   | 项目类型   | String | 非必须   | 可再生能源,<br />林业碳汇,<br />甲烷利用,<br />能源效率提升,<br />碳捕集与封存  <br />只能为这五个其中一之一 |
| \|-projectAmount | 项目数量   | number | 非必须   | 每个类型对应一个总数                                         |

响应数据样例：

```js
{
    "code": 0,
    "message": "操作成功",
    "data": [
        {
        projectType: "xxx"		//项目类型
        projectAmount：23	   //项目数量
        },
        {....}
    ]
}
```



## 1.3 项目数量统计

### 1.3.1 基本信息

> 请求路径： /ccer/projectReductionAmounts
>
> 请求方式：GET
>
> 接口描述：用于提供Projects和Emission_Reductions表中每个类型的减排总量，进行项目减排量图表数据渲染

### 1.3.2 请求参数

无

### 1.3.3 响应参数

参数相应格式：application/json

相应参数说明：

| 参数名称                  | 说明       | 类型   | 是否必须 | 备注                                                         |
| ------------------------- | ---------- | ------ | -------- | ------------------------------------------------------------ |
| code                      | 响应码     | number | 必须     | 0-成功,1-失败                                                |
| message                   | 提示信息   | string | 非必须   |                                                              |
| data                      | 返回的数据 | array  | 必须     |                                                              |
| \|-projectType            | 项目类型   | String | 非必须   | 可再生能源,<br />林业碳汇,<br />甲烷利用,<br />能源效率提升,<br />碳捕集与封存  <br />只能为这五个其中一之一 |
| \|-projectReductionAmount | 减排量     | double | 非必须   | 每个类型对应一个减排总量                                     |

响应数据样例：

```js
{
    "code": 0,
    "message": "操作成功",
    "data": [
        {
        projectType: "xxx"		//项目类型
        projectReductionAmount：23	   //项目减排量
        },
        {....}
    ]
}
```

